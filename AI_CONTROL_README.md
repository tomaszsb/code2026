# 🚀 AI Control System - Complete Guide

## Quick Start (TL;DR)
```bash
./start-ai-control.sh          # One command starts everything
# Opens: http://localhost:3003/  
# Click: "🚀 Start Both AIs"
# Done: AIs collaborate automatically
```

---

## 📊 System Overview

The AI Control System provides a unified interface for managing Claude and Gemini AI collaboration on the Project Management Board Game.

### 🎯 Key Features
- **One-Command Startup** - Everything launches with a single script
- **Hybrid AI Bridge** - Smart routing between manual and automatic approval
- **Real-time Dashboard** - Monitor AI conversations and control interactions
- **Built-in Documentation** - Command dictionary with 6 organized categories
- **Clean Architecture** - Simplified, consolidated codebase

---

## 🚀 Getting Started

### 1. Launch the System
```bash
./start-ai-control.sh
```
This command:
- Starts the Hybrid AI Bridge server on port 3003
- Automatically opens the dashboard in your browser
- Handles cleanup of any existing processes

### 2. Access the Dashboard
- **URL:** `http://localhost:3003/`
- **Interface:** Comprehensive control panel with all AI management features

### 3. Start AI Collaboration
- Click **"🚀 Start Both AIs"** for automated startup
- Or use individual buttons: **"🤖 Claude"** / **"💎 Gemini"**
- System automatically sends catalyst message to begin collaboration

---

## 📖 Dashboard Features

### 🚀 AI Control Center
- **🚀 Start Both AIs:** Launches Claude + Gemini + catalyst message
- **🤖 Start Claude:** Individual Claude automation
- **💎 Start Gemini:** Individual Gemini automation  
- **⛔ Stop All AIs:** Terminates all AI processes
- **📨 Quick Messages:** Direct message sending with Enter key support

### 💬 Communication Management
- **Comment Injection:** Add human input to AI conversations
- **Target Specific AIs:** Send comments to Claude only, Gemini only, or both
- **Real-time Monitoring:** Live conversation display

### ⚙️ Approval System
- **Configurable Rules:** Set automatic vs manual approval per message type
- **Pending Queue:** Review and approve/reject AI messages
- **Flexible Control:** Balance automation with human oversight

### 📚 Built-in Help
Click **"📚 Show/Hide All Commands"** for complete reference covering:
- 🚀 AI Control Commands
- 💬 Communication Commands
- ⚙️ Configuration Commands  
- 🎮 Game Integration
- 🔧 Advanced Commands
- ⚡ Quick Start Guide

---

## 🏗️ System Architecture

### Core Components
```
start-ai-control.sh              # Main startup script (single command)
.server/hybrid-ai-bridge.js      # Hybrid AI Bridge server (port 3003)
simple-auto-responder.js         # Simple file-based auto-response system
smart_claude.sh                  # Simplified Claude auto-responder starter
smart_gemini.sh                  # Simplified Gemini auto-responder starter
```

### Communication Flow
```
Dashboard (3003) → Message Files → Auto-Responder → Instant Responses → Dashboard Updates
```

### New Simplified Architecture
```
1. Dashboard sends message → Creates NEW_MESSAGE_FOR_[AI].txt
2. Auto-responder detects file → Processes message content
3. Auto-responder creates response → RESPONSE_FROM_[AI].txt
4. Dashboard shows response → Real-time communication working
```

### Game Integration
```
Game Server: python3 -m http.server 8000
Game URL: http://localhost:8000/
Debug Mode: ?debug=true&logLevel=debug
```

---

## 🔧 Advanced Usage

### Manual Commands
```bash
# Individual AI control
./smart_claude.sh               # Start Claude auto-responder
./smart_gemini.sh               # Start Gemini auto-responder (shares same responder)

# Game server
python3 -m http.server 8000     # Start game server

# Process management
ps aux | grep simple-auto-responder  # Check auto-responder process
ps aux | grep hybrid-ai-bridge      # Check bridge server
pkill -f "simple-auto-responder"    # Stop auto-responder
pkill -f "smart_claude|smart_gemini" # Stop smart scripts
```

### Direct Testing
```bash
# Test auto-responder manually
node simple-auto-responder.js   # Start responder directly

# Create test message
echo "Test message" > NEW_MESSAGE_FOR_CLAUDE.txt

# Check for response (should appear within seconds)
ls -la RESPONSE_FROM_*.txt
```

### Message Files
The system uses file-based communication:
- `NEW_MESSAGE_FOR_CLAUDE.txt` - Messages to Claude (auto-generated by dashboard)
- `NEW_MESSAGE_FOR_GEMINI.txt` - Messages to Gemini (auto-generated by dashboard)  
- `RESPONSE_FROM_CLAUDE.txt` - Auto-responses from Claude (created by auto-responder)
- `RESPONSE_FROM_GEMINI.txt` - Auto-responses from Gemini (created by auto-responder)

**New Simplified Flow:**
1. Dashboard creates message files when you send messages
2. Auto-responder detects files and creates instant responses
3. Dashboard shows responses demonstrating working communication

### Approval Rules
Configure in dashboard or via API:
- **Automatic:** `status_update`, `acknowledgment`, `clarification`, `progress_report`
- **Manual:** `task_assignment`, `code_changes`, `important_decision`, `system_modification`

---

## 🛠️ Troubleshooting

### Common Issues

**Dashboard won't load:**
```bash
# Check if server is running
lsof -i :3003
# Restart if needed
./start-ai-control.sh
```

**AIs won't start:**
```bash
# Check dependencies
npm list chokidar
# Reinstall if missing
npm install chokidar
```

**Messages not sending:**
- Verify file permissions in project directory
- Check dashboard console for errors
- Try manual file creation to test

### Debug Mode
Add debug output to scripts:
```bash
set -x                          # Add to top of shell scripts
console.log('debug info')       # Add to JavaScript
```

---

## 📁 File Structure

```
├── start-ai-control.sh         # Main startup script
├── smart_claude.sh             # Claude automation
├── smart_gemini.sh             # Gemini automation
├── .server/
│   ├── hybrid-ai-bridge.js     # Main server
│   ├── start-hybrid.sh         # Alternative startup
│   ├── stop-hybrid.sh          # Clean shutdown
│   ├── claude-inbox/           # Claude message inbox
│   ├── claude-outbox/          # Claude message outbox
│   ├── gemini-inbox/           # Gemini message inbox
│   └── gemini-outbox/          # Gemini message outbox
├── claude-auto-trigger.js      # Claude file watcher
├── game/                       # Board game files
└── docs/                       # Additional documentation
```

---

## 🚀 What's Next

The AI Control System is production-ready. Recommended next steps:

1. **Test AI Collaboration** - Use "🚀 Start Both AIs" to test communication
2. **Game Development** - Use collaborative debugging for existing game bugs
3. **Workflow Optimization** - Adjust approval rules based on usage patterns
4. **Feature Enhancement** - Add new collaboration features as needed

**Happy AI Collaborating!** 🤖💎