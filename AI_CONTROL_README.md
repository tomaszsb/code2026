# ğŸš€ AI Control System - Complete Guide

## Quick Start (TL;DR)
```bash
./start-ai-control.sh          # One command starts everything
# Opens: http://localhost:3003/  
# Click: "ğŸš€ Start Both AIs"
# Done: AIs collaborate automatically
```

---

## ğŸ“Š System Overview

The AI Control System provides a unified interface for managing Claude and Gemini AI collaboration on the Project Management Board Game.

### ğŸ¯ Key Features
- **One-Command Startup** - Everything launches with a single script
- **Hybrid AI Bridge** - Smart routing between manual and automatic approval
- **Real-time Dashboard** - Monitor AI conversations and control interactions
- **Built-in Documentation** - Command dictionary with 6 organized categories
- **Clean Architecture** - Simplified, consolidated codebase

---

## ğŸš€ Getting Started

### 1. Launch the System
```bash
./start-ai-control.sh
```
This command:
- Starts the Hybrid AI Bridge server on port 3003
- Automatically opens the dashboard in your browser
- Handles cleanup of any existing processes

### 2. Access the Dashboard
- **URL:** `http://localhost:3003/`
- **Interface:** Comprehensive control panel with all AI management features

### 3. Start AI Collaboration
- Click **"ğŸš€ Start Both AIs"** for automated startup
- Or use individual buttons: **"ğŸ¤– Claude"** / **"ğŸ’ Gemini"**
- System automatically sends catalyst message to begin collaboration

---

## ğŸ“– Dashboard Features

### ğŸš€ AI Control Center
- **ğŸš€ Start Both AIs:** Launches Claude + Gemini + catalyst message
- **ğŸ¤– Start Claude:** Individual Claude automation
- **ğŸ’ Start Gemini:** Individual Gemini automation  
- **â›” Stop All AIs:** Terminates all AI processes
- **ğŸ“¨ Quick Messages:** Direct message sending with Enter key support

### ğŸ’¬ Communication Management
- **Comment Injection:** Add human input to AI conversations
- **Target Specific AIs:** Send comments to Claude only, Gemini only, or both
- **Real-time Monitoring:** Live conversation display

### âš™ï¸ Approval System
- **Configurable Rules:** Set automatic vs manual approval per message type
- **Pending Queue:** Review and approve/reject AI messages
- **Flexible Control:** Balance automation with human oversight

### ğŸ“š Built-in Help
Click **"ğŸ“š Show/Hide All Commands"** for complete reference covering:
- ğŸš€ AI Control Commands
- ğŸ’¬ Communication Commands
- âš™ï¸ Configuration Commands  
- ğŸ® Game Integration
- ğŸ”§ Advanced Commands
- âš¡ Quick Start Guide

---

## ğŸ—ï¸ System Architecture

### Core Components
```
start-ai-control.sh              # Main startup script (single command)
.server/hybrid-ai-bridge.js      # Hybrid AI Bridge server (port 3003)
simple-auto-responder.js         # Simple file-based auto-response system
smart_claude.sh                  # Simplified Claude auto-responder starter
smart_gemini.sh                  # Simplified Gemini auto-responder starter
```

### Communication Flow
```
Dashboard (3003) â†’ Message Files â†’ Auto-Responder â†’ Instant Responses â†’ Dashboard Updates
```

### New Simplified Architecture
```
1. Dashboard sends message â†’ Creates NEW_MESSAGE_FOR_[AI].txt
2. Auto-responder detects file â†’ Processes message content
3. Auto-responder creates response â†’ RESPONSE_FROM_[AI].txt
4. Dashboard shows response â†’ Real-time communication working
```

### Game Integration
```
Game Server: python3 -m http.server 8000
Game URL: http://localhost:8000/
Debug Mode: ?debug=true&logLevel=debug
```

---

## ğŸ”§ Advanced Usage

### Manual Commands
```bash
# Individual AI control
./smart_claude.sh               # Start Claude auto-responder
./smart_gemini.sh               # Start Gemini auto-responder (shares same responder)

# Game server
python3 -m http.server 8000     # Start game server

# Process management
ps aux | grep simple-auto-responder  # Check auto-responder process
ps aux | grep hybrid-ai-bridge      # Check bridge server
pkill -f "simple-auto-responder"    # Stop auto-responder
pkill -f "smart_claude|smart_gemini" # Stop smart scripts
```

### Direct Testing
```bash
# Test auto-responder manually
node simple-auto-responder.js   # Start responder directly

# Create test message
echo "Test message" > NEW_MESSAGE_FOR_CLAUDE.txt

# Check for response (should appear within seconds)
ls -la RESPONSE_FROM_*.txt
```

### Message Files
The system uses file-based communication:
- `NEW_MESSAGE_FOR_CLAUDE.txt` - Messages to Claude (auto-generated by dashboard)
- `NEW_MESSAGE_FOR_GEMINI.txt` - Messages to Gemini (auto-generated by dashboard)  
- `RESPONSE_FROM_CLAUDE.txt` - Auto-responses from Claude (created by auto-responder)
- `RESPONSE_FROM_GEMINI.txt` - Auto-responses from Gemini (created by auto-responder)

**New Simplified Flow:**
1. Dashboard creates message files when you send messages
2. Auto-responder detects files and creates instant responses
3. Dashboard shows responses demonstrating working communication

### Approval Rules
Configure in dashboard or via API:
- **Automatic:** `status_update`, `acknowledgment`, `clarification`, `progress_report`
- **Manual:** `task_assignment`, `code_changes`, `important_decision`, `system_modification`

---

## ğŸ› ï¸ Troubleshooting

### Common Issues

**Dashboard won't load:**
```bash
# Check if server is running
lsof -i :3003
# Restart if needed
./start-ai-control.sh
```

**AIs won't start:**
```bash
# Check dependencies
npm list chokidar
# Reinstall if missing
npm install chokidar
```

**Messages not sending:**
- Verify file permissions in project directory
- Check dashboard console for errors
- Try manual file creation to test

### Debug Mode
Add debug output to scripts:
```bash
set -x                          # Add to top of shell scripts
console.log('debug info')       # Add to JavaScript
```

---

## ğŸ“ File Structure

```
â”œâ”€â”€ start-ai-control.sh         # Main startup script
â”œâ”€â”€ smart_claude.sh             # Claude automation
â”œâ”€â”€ smart_gemini.sh             # Gemini automation
â”œâ”€â”€ .server/
â”‚   â”œâ”€â”€ hybrid-ai-bridge.js     # Main server
â”‚   â”œâ”€â”€ start-hybrid.sh         # Alternative startup
â”‚   â”œâ”€â”€ stop-hybrid.sh          # Clean shutdown
â”‚   â”œâ”€â”€ claude-inbox/           # Claude message inbox
â”‚   â”œâ”€â”€ claude-outbox/          # Claude message outbox
â”‚   â”œâ”€â”€ gemini-inbox/           # Gemini message inbox
â”‚   â””â”€â”€ gemini-outbox/          # Gemini message outbox
â”œâ”€â”€ claude-auto-trigger.js      # Claude file watcher
â”œâ”€â”€ game/                       # Board game files
â””â”€â”€ docs/                       # Additional documentation
```

---

## ğŸš€ What's Next

The AI Control System is production-ready. Recommended next steps:

1. **Test AI Collaboration** - Use "ğŸš€ Start Both AIs" to test communication
2. **Game Development** - Use collaborative debugging for existing game bugs
3. **Workflow Optimization** - Adjust approval rules based on usage patterns
4. **Feature Enhancement** - Add new collaboration features as needed

**Happy AI Collaborating!** ğŸ¤–ğŸ’